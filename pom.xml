<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>org.burstsys</groupId>
    <artifactId>burst-root</artifactId>
    <version>5.0.0${revision}-SNAPSHOT</version>
    <packaging>pom</packaging>
    <name>Burst</name>

    <profiles>
        <profile>
            <id>java11</id>
            <activation>
                <jdk>11</jdk>
            </activation>
            <properties>
                <java-short.version>11</java-short.version>
                <java-exports>
                    --add-exports java.base/jdk.internal.misc=ALL-UNNAMED --add-exports java.base/jdk.internal.ref=ALL-UNNAMED
                </java-exports>
            </properties>
        </profile>

        <profile>
            <id>includeTests</id>
            <activation>
                <property>
                    <name>withTests</name>
                </property>
            </activation>
            <properties>
                <skipTests>false</skipTests>
            </properties>

            <build>
                <plugins>
                    <plugin>
                        <groupId>org.codehaus.mojo</groupId>
                        <artifactId>build-helper-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>burst-ports</id>
                                <phase>process-test-classes</phase>
                                <goals>
                                    <goal>reserve-network-port</goal>
                                </goals>
                                <configuration>
                                    <portNames>
                                        <portName>burst.agent.api.port</portName>
                                        <portName>burst.catalog.api.port</portName>
                                        <portName>burst.fabric.net.port</portName>
                                        <portName>burst.fabric.http.port</portName>
                                        <portName>burst.nexus.server.port</portName>
                                    </portNames>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>

                    <plugin>
                        <groupId>net.alchim31.maven</groupId>
                        <artifactId>scala-maven-plugin</artifactId>
                        <version>${scala.maven-plugin.version}</version>
                        <executions>
                            <execution>
                                <id>compile-test-scala</id>
                                <goals>
                                    <goal>testCompile</goal>
                                </goals>
                                <phase>process-test-resources</phase>
                            </execution>
                        </executions>
                    </plugin>

                    <plugin>
                        <groupId>com.diffplug.spotless</groupId>
                        <artifactId>spotless-maven-plugin</artifactId>
                    </plugin>

                    <plugin>
                        <groupId>org.scalatest</groupId>
                        <artifactId>scalatest-maven-plugin</artifactId>
                        <version>${scalatest.maven-plugin.version}</version>
                        <configuration>
                            <junitxml>junit</junitxml>
                            <htmlreporters>${project.build.directory}/scalatest-reports/html</htmlreporters>
                            <filereports>
                                WDKPQ ${project.name}-all.txt,
                                WDKXE ${project.name}-active.txt,
                                WDNCHLOPQRM ${project.name}-ignored.txt,
                                WDKNCXEHLOPQRM ${project.name}-summary.txt
                            </filereports>
                            <forkMode>once</forkMode>
                            <parallel>false</parallel>
                            <!-- need to PR scalatest-maven to allow late property interpolation for jacoco -->
                            <!-- <argLine>@{argLine} ${scalatest.jvm.args}</argLine>-->
                            <argLine>${scalatest.jvm.args}</argLine>
                            <logForkedProcessCommand>true</logForkedProcessCommand>
                            <systemProperties>
                                <burst.loglevel>${burst.test.loglevel}</burst.loglevel>
                                <burst.nexus.server.port>${burst.nexus.server.port}</burst.nexus.server.port>
                                <burst.agent.api.port>${burst.agent.api.port}</burst.agent.api.port>
                                <burst.catalog.api.port>${burst.catalog.api.port}</burst.catalog.api.port>
                                <burst.fabric.net.port>${burst.fabric.net.port}</burst.fabric.net.port>
                                <burst.fabric.http.port>${burst.fabric.http.port}</burst.fabric.http.port>
                            </systemProperties>
                        </configuration>
                        <executions>
                            <execution>
                                <id>scalatest</id>
                                <goals>
                                    <goal>test</goal>
                                </goals>
                            </execution>
                            <execution>
                                <id>scalatest-report</id>
                                <goals>
                                    <goal>reporter</goal>
                                </goals>
                                <phase>post-integration-test</phase>
                            </execution>
                        </executions>
                    </plugin>

                </plugins>
            </build>

        </profile>
    </profiles>

    <scm>
        <connection>scm:git:ssh://git@github.com/yahoo/burst.git</connection>
        <tag>HEAD</tag>
    </scm>

    <distributionManagement>
        <snapshotRepository>
            <id>burst-snapshot</id>
            <name>burst-snapshot</name>
            <url>${snapshot-url}</url>
        </snapshotRepository>
        <repository>
            <id>burst-release</id>
            <name>burst-release</name>
            <url>${release-url}</url>
        </repository>
    </distributionManagement>


    <properties>
        <revision/> <!-- provide empty value for revision -->
        <d>$</d>
        <rev>{revision}</rev>
        <!--********************************************************************************************-->
        <!-- Maven Build Ecosystem -->
        <!--********************************************************************************************-->
        <skipTests>true</skipTests>
        <artifact.skip-deploy>true</artifact.skip-deploy>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
        <maven.compiler.source>${java-short.version}</maven.compiler.source>
        <maven.compiler.release>${java-short.version}</maven.compiler.release>
        <maven.compiler.target>${java-short.version}</maven.compiler.target>
        <maven.compiler.compilerVersion>${java-short.version}</maven.compiler.compilerVersion>
        <maven.javadoc.skip>true</maven.javadoc.skip>
        <scalatest.jvm.args>-Xmx8G ${java-exports} -Xverify:none -XX:TieredStopAtLevel=1 -XX:-TieredCompilation
        </scalatest.jvm.args>
        <burst.test.loglevel>warn</burst.test.loglevel>
        <thrift-executable>thrift</thrift-executable>
        <copyright.text1>Copyright Yahoo, Licensed under the terms of the Apache 2.0 license</copyright.text1>
        <copyright.text2>See LICENSE file in project root for terms</copyright.text2>
        <copyright.text>${copyright.text1}. ${copyright.text2}.</copyright.text>
        <argLine/>
        <snapshot-url/>
        <release-url/>

        <javax-annotation-api.version>1.3.2</javax-annotation-api.version>
        <build-helper.maven-plugin.version>3.3.0</build-helper.maven-plugin.version>
        <compiler.maven-plugin.version>3.10.0</compiler.maven-plugin.version>
        <deploy.maven-plugin.version>2.8.2</deploy.maven-plugin.version>
        <flatten.maven-plugin.version>1.3.0</flatten.maven-plugin.version>
        <git-commit.maven-plugin.version>4.9.10</git-commit.maven-plugin.version>
        <jacoco.maven-plugin.version>0.8.8</jacoco.maven-plugin.version>
        <os.maven-plugin.version>1.7.0</os.maven-plugin.version>
        <release.maven-plugin.version>3.0.0-M5</release.maven-plugin.version>
        <scala.maven-plugin.version>4.5.6</scala.maven-plugin.version>
        <scalatest.maven-plugin.version>2.0.2</scalatest.maven-plugin.version>
        <shade.maven-plugin.version>3.2.4</shade.maven-plugin.version>
        <sources.maven-plugin.version>3.2.1</sources.maven-plugin.version>
        <surefire.maven-plugin.version>2.22.2</surefire.maven-plugin.version>
        <!--********************************************************************************************-->

        <!--********************************************************************************************-->
        <!-- Docker publishing -->
        <!--********************************************************************************************-->
        <corretto.version>11</corretto.version>
        <docker.app.dir>/app/burst</docker.app.dir>
        <dockerRepo/>
        <!--********************************************************************************************-->


        <antlr4.version>4.9.3</antlr4.version> <!-- yay terrance! -->
        <bouncycastle.version>1.70</bouncycastle.version> <!-- Sane JDK public key|private key|certificate interface -->
        <common-io.version>2.11.0</common-io.version> <!-- apache io libraries -->
        <commons-csv.version>1.9.0</commons-csv.version> <!-- apache csv libraries -->
        <commons-codec.version>1.15</commons-codec.version>
        <commons-dbcp-pool.version>2.9.0</commons-dbcp-pool.version>
        <commons-math3.version>3.6.1</commons-math3.version> <!-- apache math libraries -->
        <commons-net.version>3.8.0</commons-net.version>
        <commons-lang3.version>3.12.0</commons-lang3.version>
        <derby.version>10.14.2.0</derby.version>
        <dropwizard-metrics.version>4.2.9</dropwizard-metrics.version>
        <opentelemetry.version>1.20.0</opentelemetry.version>
        <findbugs.version>3.0.2</findbugs.version>
        <grizzly.version>3.0.1</grizzly.version>
        <guava.version>31.1-jre</guava.version>
        <jackson.version>2.14.1</jackson.version>
        <jakarta-inject.version>2.6.1</jakarta-inject.version>
        <jakarta-servlet-api.version>5.0.0</jakarta-servlet-api.version>
        <jakarta-websocket-api.version>2.0</jakarta-websocket-api.version>
        <jakarta-ws-rs.version>3.0.0</jakarta-ws-rs.version>
        <javassist.version>3.28.0-GA</javassist.version> <!--  bytecode manipulation -->
        <javax-inject.version>1</javax-inject.version>
        <javax-servlet-api.version>4.0.1</javax-servlet-api.version>
        <jctools.version>3.3.0</jctools.version> <!-- off heap lock free queues-->
        <jersey.version>3.0.3</jersey.version>
        <jetty.version>9.4.45.v20220203</jetty.version>
        <joda.convert.version>1.9.2</joda.convert.version>
        <joda.time.version>2.10.13</joda.time.version>
        <junit.version>4.13.2</junit.version>
        <koloboke.version>1.0.0</koloboke.version> <!-- high performance collections -->
        <kryo.version>5.3.0</kryo.version>
        <log4j.version>1.2.17</log4j.version>
        <log4j2.version>2.17.2</log4j2.version>
        <mysql.version>8.0.32</mysql.version>
        <netty.version>4.1.86.Final</netty.version>
        <oshi.version>6.1.5</oshi.version><!-- hardware information -->
        <owasp-html-sanitizer.version>20211018.2</owasp-html-sanitizer.version>
        <reflections.version>0.10.2</reflections.version>
        <scala-major.version>2.13</scala-major.version>
        <scala-minor.version>10</scala-minor.version>
        <scala.version>${scala-major.version}.${scala-minor.version}</scala.version>
        <scalacompat.version>2.6.0</scalacompat.version>
        <scalatest.version>3.2.11</scalatest.version>
        <scalikejdbc.version>3.5.0</scalikejdbc.version>
        <scopt.version>4.0.1</scopt.version> <!-- command line argument parsing -->
        <slf4j.version>1.7.36</slf4j.version>
        <snappy.version>1.1.8.4</snappy.version> <!-- snappy compression-->
        <sourcecode.version>0.3.0</sourcecode.version>
        <spotless.version>2.22.5</spotless.version>
        <thrift-version>0.17.0</thrift-version>
        <trove.version>3.0.3</trove.version> <!-- high performance collections -->
        <twitter-library.version>20.1.0</twitter-library.version>
        <jib.maven-plugin.version>3.3.1</jib.maven-plugin.version>
        <protobuf.version>3.21.9</protobuf.version><!-- transitive dependency but need to remove vulnerability -->
        <httpclient.version>4.5.14</httpclient.version>
    </properties>

    <modules>
        <module>burst-agent</module>
        <module>burst-alloy-testing</module>
        <module>burst-api</module>
        <module>burst-brio</module>
        <module>burst-catalog</module>
        <module>burst-clients</module>
        <module>burst-dash</module>
        <module>burst-eql</module>
        <module>burst-felt</module>
        <module>burst-fabric</module>
        <module>burst-ginsu</module>
        <module>burst-hydra</module>
        <module>burst-supervisor</module>
        <module>burst-motif</module>
        <module>burst-nexus</module>
        <module>burst-relate</module>
        <module>burst-samplestore</module>
        <module>burst-tesla</module>
        <module>burst-vitals</module>
        <module>burst-worker</module>
        <module>burst-zap</module>
        <module>burst-system-integration-tests</module>
        <module>burst-application</module>
    </modules>

    <dependencyManagement>
        <dependencies>
            <!-- burst modules -->
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-agent-client</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-agent</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-alloy-testing</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-api</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-brio</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-catalog-client</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-catalog</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-cell-samplestore</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-client</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-dash</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-eql</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-fabric</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-fabric-net</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-fabric-wave</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-felt</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-ginsu</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-hydra</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-managed-client</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-supervisor</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-motif</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-nexus</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-relate</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-samplesource</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-samplestore-api</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-samplestore</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-base-samplestore</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-synthetic-samplestore</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-application</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-system-integration-tests</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-tesla</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-vitals</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-worker</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.burstsys</groupId>
                <artifactId>burst-zap</artifactId>
                <version>${project.version}</version>
            </dependency>

            <!-- scala now added by profiles -->
            <dependency>
                <groupId>org.scala-lang</groupId>
                <artifactId>scala-library</artifactId>
                <version>${scala.version}</version>
            </dependency>
            <dependency>
                <groupId>org.scala-lang</groupId>
                <artifactId>scala-reflect</artifactId>
                <version>${scala.version}</version>
            </dependency>
            <dependency>
                <groupId>org.scala-lang</groupId>
                <artifactId>scala-compiler</artifactId>
                <version>${scala.version}</version>
            </dependency>

            <!-- Logging -->
            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
                <version>${slf4j.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-1.2-api</artifactId>
                <version>${log4j2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-core</artifactId>
                <version>${log4j2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-api</artifactId>
                <version>${log4j2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-jul</artifactId>
                <version>${log4j2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-slf4j-impl</artifactId>
                <version>${log4j2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-web</artifactId>
                <version>${log4j2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-iostreams</artifactId>
                <version>${log4j2.version}</version>
            </dependency>
            <dependency>
                <groupId>log4j</groupId>
                <artifactId>log4j</artifactId>
                <version>${log4j.version}</version>
                <!-- marking this dependency as provided here forces exclusion in submodules -->
                <scope>provided</scope>
            </dependency>

            <dependency>
                <groupId>io.dropwizard.metrics</groupId>
                <artifactId>metrics-core</artifactId>
                <version>${dropwizard-metrics.version}</version>
            </dependency>

            <dependency>
                <groupId>io.opentelemetry</groupId>
                <artifactId>opentelemetry-bom</artifactId>
                <version>${opentelemetry.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>

            <dependency>
                <groupId>com.google.code.findbugs</groupId>
                <artifactId>jsr305</artifactId>
                <version>${findbugs.version}</version>
            </dependency>

            <dependency>
                <groupId>org.bouncycastle</groupId>
                <artifactId>bcprov-jdk15on</artifactId>
                <version>${bouncycastle.version}</version>
            </dependency>

            <dependency>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
                <version>${common-io.version}</version>
            </dependency>

            <dependency>
                <groupId>commons-codec</groupId>
                <artifactId>commons-codec</artifactId>
                <version>${commons-codec.version}</version>
            </dependency>


            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-csv</artifactId>
                <version>${commons-csv.version}</version>
            </dependency>

            <dependency>
                <groupId>com.github.oshi</groupId>
                <artifactId>oshi-core</artifactId>
                <version>${oshi.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>org.slf4j</groupId>
                        <artifactId>slf4j-api</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>

            <dependency>
                <groupId>com.github.scopt</groupId>
                <artifactId>scopt_2.12</artifactId>
                <version>${scopt.version}</version>
            </dependency>
            <dependency>
                <groupId>com.github.scopt</groupId>
                <artifactId>scopt_2.13</artifactId>
                <version>${scopt.version}</version>
            </dependency>

            <dependency>
                <groupId>com.esotericsoftware</groupId>
                <artifactId>kryo</artifactId>
                <version>${kryo.version}</version>
            </dependency>
            <dependency>
                <groupId>org.objenesis</groupId>
                <artifactId>objenesis</artifactId>
                <version>3.2</version>
            </dependency>

            <dependency>
                <groupId>com.fasterxml.jackson.module</groupId>
                <artifactId>jackson-module-scala_2.12</artifactId>
                <version>${jackson.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>org.scala-lang</groupId>
                        <artifactId>scala-library</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>org.scala-lang</groupId>
                        <artifactId>scala-reflect</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.module</groupId>
                <artifactId>jackson-module-scala_2.13</artifactId>
                <version>${jackson.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>org.scala-lang</groupId>
                        <artifactId>scala-library</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>org.scala-lang</groupId>
                        <artifactId>scala-reflect</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
                <version>${jackson.version}</version>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
                <version>${jackson.version}</version>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
                <version>${jackson.version}</version>
            </dependency>

            <dependency>
                <groupId>org.reflections</groupId>
                <artifactId>reflections</artifactId>
                <version>${reflections.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>com.google.guava</groupId>
                        <artifactId>guava</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>

            <dependency>
                <groupId>org.xerial.snappy</groupId>
                <artifactId>snappy-java</artifactId>
                <version>${snappy.version}</version>
            </dependency>

            <dependency>
                <groupId>org.antlr</groupId>
                <artifactId>antlr4-runtime</artifactId>
                <version>${antlr4.version}</version>
            </dependency>

            <dependency>
                <groupId>com.koloboke</groupId>
                <artifactId>koloboke-api-jdk8</artifactId>
                <version>${koloboke.version}</version>
            </dependency>
            <dependency>
                <groupId>com.koloboke</groupId>
                <artifactId>koloboke-impl-jdk8</artifactId>
                <version>${koloboke.version}</version>
            </dependency>

            <dependency>
                <groupId>net.sf.trove4j</groupId>
                <artifactId>trove4j</artifactId>
                <version>${trove.version}</version>
            </dependency>

            <dependency>
                <groupId>org.jctools</groupId>
                <artifactId>jctools-core</artifactId>
                <version>${jctools.version}</version>
            </dependency>

            <dependency>
                <groupId>joda-time</groupId>
                <artifactId>joda-time</artifactId>
                <version>${joda.time.version}</version>
            </dependency>
            <dependency>
                <groupId>org.joda</groupId>
                <artifactId>joda-convert</artifactId>
                <version>${joda.convert.version}</version>
            </dependency>

            <dependency>
                <groupId>org.apache.thrift</groupId>
                <artifactId>libthrift</artifactId>
                <version>${thrift-version}</version>
            </dependency>

            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>finagle-thrift_2.12</artifactId>
                <version>${twitter-library.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>org.apache.thrift</groupId>
                        <artifactId>libthrift</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>javax.servlet</groupId>
                        <artifactId>servlet-api</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>com.fasterxml.jackson.module</groupId>
                        <artifactId>*</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>com.fasterxml.jackson.core</groupId>
                        <artifactId>*</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>finagle-thrift_2.13</artifactId>
                <version>${twitter-library.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>org.apache.thrift</groupId>
                        <artifactId>libthrift</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>javax.servlet</groupId>
                        <artifactId>servlet-api</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>com.fasterxml.jackson.module</groupId>
                        <artifactId>*</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>com.fasterxml.jackson.core</groupId>
                        <artifactId>*</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>finagle-core_2.12</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>finagle-core_2.13</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>finagle-netty4_2.12</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>finagle-netty4_2.13</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>scrooge-core_2.12</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>scrooge-core_2.13</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>util-core_2.12</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>util-core_2.13</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>util-stats_2.12</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>
            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>util-stats_2.13</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>

            <dependency>
                <groupId>io.netty</groupId>
                <artifactId>netty-all</artifactId>
                <version>${netty.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>com.google.guava</groupId>
                        <artifactId>guava</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>io.netty</groupId>
                <artifactId>netty-codec-http</artifactId>
                <version>${netty.version}</version>
            </dependency>
            <dependency>
                <groupId>io.netty</groupId>
                <artifactId>netty-handler-proxy</artifactId>
                <version>${netty.version}</version>
            </dependency>

            <dependency>
                <groupId>io.netty</groupId>
                <artifactId>netty-transport</artifactId>
                <version>${netty.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>com.google.guava</groupId>
                        <artifactId>guava</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>io.netty</groupId>
                <artifactId>netty-transport-classes-kqueue</artifactId>
                <version>${netty.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>com.google.guava</groupId>
                        <artifactId>guava</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>io.netty</groupId>
                <artifactId>netty-buffer</artifactId>
                <version>${netty.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>com.google.guava</groupId>
                        <artifactId>guava</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>io.netty</groupId>
                <artifactId>netty-common</artifactId>
                <version>${netty.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>com.google.guava</groupId>
                        <artifactId>guava</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>io.netty</groupId>
                <artifactId>netty-handler</artifactId>
                <version>${netty.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>com.google.guava</groupId>
                        <artifactId>guava</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>io.netty</groupId>
                <artifactId>netty-codec</artifactId>
                <version>${netty.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>com.google.guava</groupId>
                        <artifactId>guava</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>io.netty</groupId>
                <artifactId>netty-transport-classes-epoll</artifactId>
                <version>${netty.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>com.google.guava</groupId>
                        <artifactId>guava</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>

            <dependency>
                <groupId>com.google.guava</groupId>
                <artifactId>guava</artifactId>
                <version>${guava.version}</version>
            </dependency>

            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-math3</artifactId>
                <version>${commons-math3.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-lang3</artifactId>
                <version>${commons-lang3.version}</version>
            </dependency>
            <dependency>
                <groupId>commons-net</groupId>
                <artifactId>commons-net</artifactId>
                <version>${commons-net.version}</version>
            </dependency>


            <dependency>
                <groupId>org.scalikejdbc</groupId>
                <artifactId>scalikejdbc_2.12</artifactId>
                <version>${scalikejdbc.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>org.apache.commons</groupId>
                        <artifactId>commons-dbcp</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>org.scala-lang.modules</groupId>
                        <artifactId>scala-parser-combinators_${scala-major.version}</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>org.scalikejdbc</groupId>
                <artifactId>scalikejdbc_2.13</artifactId>
                <version>${scalikejdbc.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>org.apache.commons</groupId>
                        <artifactId>commons-dbcp</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>org.scala-lang.modules</groupId>
                        <artifactId>scala-parser-combinators_2.13</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>org.scalikejdbc</groupId>
                <artifactId>scalikejdbc-core_2.12</artifactId>
                <version>${scalikejdbc.version}</version>
            </dependency>
            <dependency>
                <groupId>org.scalikejdbc</groupId>
                <artifactId>scalikejdbc-core_2.13</artifactId>
                <version>${scalikejdbc.version}</version>
            </dependency>
            <dependency>
                <groupId>org.scalikejdbc</groupId>
                <artifactId>scalikejdbc-interpolation_2.12</artifactId>
                <version>${scalikejdbc.version}</version>
            </dependency>
            <dependency>
                <groupId>org.scalikejdbc</groupId>
                <artifactId>scalikejdbc-interpolation_2.13</artifactId>
                <version>${scalikejdbc.version}</version>
            </dependency>
            <dependency>
                <groupId>mysql</groupId>
                <artifactId>mysql-connector-java</artifactId>
                <version>${mysql.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.derby</groupId>
                <artifactId>derby</artifactId>
                <version>${derby.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-pool2</artifactId>
                <version>${commons-dbcp-pool.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-dbcp2</artifactId>
                <version>${commons-dbcp-pool.version}</version>
            </dependency>


            <dependency>
                <groupId>org.javassist</groupId>
                <artifactId>javassist</artifactId>
                <version>${javassist.version}</version>
            </dependency>

            <dependency>
                <groupId>javax.inject</groupId>
                <artifactId>javax.inject</artifactId>
                <version>${javax-inject.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.inject</groupId>
                <artifactId>jakarta.inject</artifactId>
                <version>${jakarta-inject.version}</version>
            </dependency>
            <dependency>
                <!-- still used by thrift -->
                <groupId>javax.servlet</groupId>
                <artifactId>javax.servlet-api</artifactId>
                <version>${javax-servlet-api.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.servlet</groupId>
                <artifactId>jakarta.servlet-api</artifactId>
                <version>${jakarta-servlet-api.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.ws.rs</groupId>
                <artifactId>jakarta.ws.rs-api</artifactId>
                <version>${jakarta-ws-rs.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.websocket</groupId>
                <artifactId>jakarta.websocket-api</artifactId>
                <version>${jakarta-websocket-api.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.hk2</groupId>
                <artifactId>hk2-utils</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.hk2</groupId>
                <artifactId>hk2-api</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.hk2</groupId>
                <artifactId>hk2-metadata-generator</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.hk2</groupId>
                <artifactId>hk2-locator</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.inject</groupId>
                <artifactId>jersey-hk2</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.grizzly</groupId>
                <artifactId>grizzly-framework</artifactId>
                <version>${grizzly.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.containers</groupId>
                <artifactId>jersey-container-grizzly2-http</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.containers</groupId>
                <artifactId>jersey-container-grizzly2-servlet</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.grizzly</groupId>
                <artifactId>grizzly-http-server</artifactId>
                <version>${grizzly.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.grizzly</groupId>
                <artifactId>grizzly-websockets</artifactId>
                <version>${grizzly.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.containers</groupId>
                <artifactId>jersey-container-servlet</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.core</groupId>
                <artifactId>jersey-client</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.core</groupId>
                <artifactId>jersey-common</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.core</groupId>
                <artifactId>jersey-server</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.media</groupId>
                <artifactId>jersey-media-json-jackson</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.httpcomponents</groupId>
                <artifactId>httpclient</artifactId>
                <version>${httpclient.version}</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.jakarta.rs</groupId>
                <artifactId>jackson-jakarta-rs-json-provider</artifactId>
                <version>${jackson.version}</version>
            </dependency>
            <dependency>
                <groupId>org.eclipse.jetty</groupId>
                <artifactId>jetty-servlet</artifactId>
                <version>${jetty.version}</version>
            </dependency>
            <dependency>
                <groupId>org.eclipse.jetty</groupId>
                <artifactId>jetty-server</artifactId>
                <version>${jetty.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.inject</groupId>
                <artifactId>jakarta.inject-api</artifactId>
                <version>2.0.0</version>
            </dependency>
            <dependency>
                <groupId>com.googlecode.owasp-java-html-sanitizer</groupId>
                <artifactId>owasp-java-html-sanitizer</artifactId>
                <version>${owasp-html-sanitizer.version}</version>
            </dependency>

            <dependency>
                <groupId>com.lihaoyi</groupId>
                <artifactId>sourcecode_2.12</artifactId>
                <version>${sourcecode.version}</version>
            </dependency>
            <dependency>
                <groupId>com.lihaoyi</groupId>
                <artifactId>sourcecode_2.13</artifactId>
                <version>${sourcecode.version}</version>
            </dependency>

            <!-- testing -->
            <dependency>
                <groupId>junit</groupId>
                <artifactId>junit</artifactId>
                <version>${junit.version}</version>
            </dependency>

            <dependency>
                <groupId>org.scalatest</groupId>
                <artifactId>scalatest_2.12</artifactId>
                <version>${scalatest.version}</version>
            </dependency>
            <dependency>
                <groupId>org.scalatest</groupId>
                <artifactId>scalatest_2.13</artifactId>
                <version>${scalatest.version}</version>
            </dependency>

            <dependency>
                <groupId>org.scalactic</groupId>
                <artifactId>scalactic_2.12</artifactId>
                <version>${scalatest.version}</version>
            </dependency>
            <dependency>
                <groupId>org.scalactic</groupId>
                <artifactId>scalactic_2.13</artifactId>
                <version>${scalatest.version}</version>
            </dependency>

            <dependency>
                <groupId>com.lihaoyi</groupId>
                <artifactId>requests_2.12</artifactId>
                <version>0.7.1</version>
                <scope>test</scope>
            </dependency>

            <dependency>
                <groupId>com.lihaoyi</groupId>
                <artifactId>requests_2.13</artifactId>
                <version>0.7.1</version>
                <scope>test</scope>
            </dependency>
            <!-- scalatest html reporter -->
            <dependency>
                <groupId>com.vladsch.flexmark</groupId>
                <artifactId>flexmark-all</artifactId>
                <version>0.64.0</version>
            </dependency>

            <!-- plugins -->
            <dependency>
                <groupId>org.antlr</groupId>
                <artifactId>antlr4-maven-plugin</artifactId>
                <version>${antlr4.version}</version>
            </dependency>

            <dependency>
                <groupId>com.twitter</groupId>
                <artifactId>scrooge-maven-plugin</artifactId>
                <version>${twitter-library.version}</version>
            </dependency>

            <dependency>
                <groupId>com.google.protobuf</groupId>
                <artifactId>protobuf-java</artifactId>
                <version>${protobuf.version}</version>
            </dependency>
        </dependencies>
    </dependencyManagement>

    <dependencies>
        <!-- we explicitly don't want to add scala-library here because there's no way to un-add dependencies in
             submodules, however it's a reasonable compromise to push common testing dependencies into all submodules
             since a test-scoped dependency doesn't become a transitive dependency -->
        <dependency>
            <groupId>org.scalatest</groupId>
            <artifactId>scalatest_${scala-major.version}</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.scalactic</groupId>
            <artifactId>scalactic_${scala-major.version}</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>com.vladsch.flexmark</groupId>
            <artifactId>flexmark-all</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <scope>test</scope>
        </dependency>
        <!-- added to remove transitive vulnerability-->
        <dependency>
            <groupId>com.google.protobuf</groupId>
            <artifactId>protobuf-java</artifactId>
        </dependency>
        <dependency>
            <groupId>io.netty</groupId>
            <artifactId>netty-codec-http</artifactId>
        </dependency>
        <dependency>
            <groupId>io.netty</groupId>
            <artifactId>netty-handler-proxy</artifactId>
        </dependency>
    </dependencies>

    <build>
        <extensions>
            <extension>
                <groupId>org.apache.maven.wagon</groupId>
                <artifactId>wagon-ssh-external</artifactId>
                <version>3.5.1</version>
            </extension>
            <extension>
                <groupId>kr.motd.maven</groupId>
                <artifactId>os-maven-plugin</artifactId>
                <version>${os.maven-plugin.version}</version>
            </extension>
        </extensions>

        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>com.twitter</groupId>
                    <artifactId>scrooge-maven-plugin</artifactId>
                    <version>${twitter-library.version}</version>
                    <configuration>
                        <language>scala</language>
                        <thriftOpts>
                            <thriftOpt>--finagle</thriftOpt>
                        </thriftOpts>
                    </configuration>
                    <executions>
                        <execution>
                            <id>thrift-sources</id>
                            <phase>generate-sources</phase>
                            <goals>
                                <goal>compile</goal>
                            </goals>
                        </execution>
                        <execution>
                            <id>thrift-test-sources</id>
                            <phase>generate-test-sources</phase>
                            <goals>
                                <goal>testCompile</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>

                <!-- specify versions of plugins in the parent pom -->
                <plugin>
                    <groupId>org.antlr</groupId>
                    <artifactId>antlr4-maven-plugin</artifactId>
                    <version>${antlr4.version}</version>
                </plugin>

                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-clean-plugin</artifactId>
                    <configuration>
                        <filesets>
                            <fileset>
                                <directory>${project.basedir}</directory>
                                <includes>
                                    <include>dependency-reduced-pom.xml</include>
                                </includes>
                            </fileset>
                        </filesets>
                    </configuration>
                </plugin>

                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-jar-plugin</artifactId>
                    <version>3.3.0</version>
                </plugin>

                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-deploy-plugin</artifactId>
                    <version>${deploy.maven-plugin.version}</version>
                    <configuration>
                        <skip>${artifact.skip-deploy}</skip>
                        <retryFailedDeploymentCount>2</retryFailedDeploymentCount>
                    </configuration>
                </plugin>

                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-dependency-plugin</artifactId>
                    <version>3.3.0</version>
                </plugin>

                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>flatten-maven-plugin</artifactId>
                    <version>${flatten.maven-plugin.version}</version>
                    <configuration>
                        <embedBuildProfileDependencies>true</embedBuildProfileDependencies>
                        <flattenMode>ossrh</flattenMode>
                    </configuration>
                    <executions>
                        <execution>
                            <id>flatten</id>
                            <phase>prepare-package</phase>
                            <goals>
                                <goal>flatten</goal>
                            </goals>
                        </execution>
                        <execution>
                            <id>flatten.clean</id>
                            <phase>clean</phase>
                            <goals>
                                <goal>clean</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>

                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-shade-plugin</artifactId>
                    <version>${shade.maven-plugin.version}</version>
                    <configuration>
                        <createSourcesJar>true</createSourcesJar>
                        <shadeSourcesContent>true</shadeSourcesContent>
                        <minimizeJar>true</minimizeJar>
                        <promoteTransitiveDependencies>true</promoteTransitiveDependencies>
                    </configuration>
                    <executions>
                        <execution>
                            <phase>package</phase>
                            <goals>
                                <goal>shade</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>

                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-assembly-plugin</artifactId>
                    <version>3.3.0</version>
                    <configuration>
                        <descriptorRefs>
                            <descriptorRef>jar-with-dependencies</descriptorRef>
                        </descriptorRefs>
                    </configuration>
                    <executions>
                        <execution>
                            <id>make-assembly</id> <!-- this is used for inheritance merges -->
                            <phase>package</phase> <!-- bind to the packaging phase -->
                            <goals>
                                <goal>single</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>

                <plugin>
                    <groupId>com.google.cloud.tools</groupId>
                    <artifactId>jib-maven-plugin</artifactId>
                    <version>${jib.maven-plugin.version}</version>

                    <configuration>
                        <from>
                            <image>${dockerRepo}/corretto-burst:${corretto.version}</image>
                            <platforms>
                                <platform>
                                    <architecture>amd64</architecture>
                                    <os>linux</os>
                                </platform>
                                <!-- <platform>-->
                                <!--     <architecture>arm64</architecture>-->
                                <!--     <os>linux</os>-->
                                <!-- </platform>-->
                            </platforms>
                        </from>
                        <containerizingMode>packaged</containerizingMode>
                        <container>
                            <appRoot>${docker.app.dir}</appRoot>
                            <environment>
                                <BURST_HOME>${docker.app.dir}</BURST_HOME>
                            </environment>
                            <entrypoint>${docker.app.dir}/sbin/start.sh</entrypoint>
                            <expandClasspathDependencies>true</expandClasspathDependencies>
                            <extraClasspath>${docker.app.dir}/classpath-files</extraClasspath>
                        </container>
                        <extraDirectories>
                            <paths combine.children="append">
                                <path>
                                    <from>src/main/jib</from>
                                    <into>${docker.app.dir}</into>
                                </path>
                            </paths>
                            <permissions combine.children="append">
                                <permission>
                                    <file>${docker.app.dir}/sbin/start.sh</file>
                                    <mode>755</mode>
                                </permission>
                            </permissions>
                        </extraDirectories>
                    </configuration>
                </plugin>

                <plugin>
                    <groupId>com.diffplug.spotless</groupId>
                    <artifactId>spotless-maven-plugin</artifactId>
                    <version>${spotless.version}</version>
                    <executions>
                        <execution>
                            <goals>
                                <goal>check</goal>
                            </goals>
                        </execution>
                    </executions>
                    <configuration>
                        <ratchetFrom>origin/main</ratchetFrom>
                        <formats>
                            <format>
                                <includes>
                                    <include>*.md</include>
                                    <include>.gitignore</include>
                                </includes>
                                <trimTrailingWhitespace/>
                                <endWithNewline/>
                                <indent>
                                    <tabs>true</tabs>
                                    <spacesPerTab>4</spacesPerTab>
                                </indent>
                            </format>
                        </formats>

                        <java>
                            <toggleOffOn />
                            <licenseHeader>
                                <content>/* ${copyright.text} */</content>
                            </licenseHeader>
                        </java>

                        <scala>
                            <toggleOffOn />
                            <licenseHeader>
                                <content>/* ${copyright.text} */</content>
                            </licenseHeader>
                        </scala>
                    </configuration>
                </plugin>

                <plugin>
                    <groupId>org.jacoco</groupId>
                    <artifactId>jacoco-maven-plugin</artifactId>
                    <version>${jacoco.maven-plugin.version}</version>
                </plugin>

                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>build-helper-maven-plugin</artifactId>
                    <version>${build-helper.maven-plugin.version}</version>
                </plugin>

                <plugin>
                    <groupId>net.alchim31.maven</groupId>
                    <artifactId>scala-maven-plugin</artifactId>
                    <version>${scala.maven-plugin.version}</version>
                    <configuration>
                        <fork>true</fork>
                        <jvmArgs>
                            <jvmArg>-Djava.net.preferIPv4Stack=true</jvmArg>
                            <jvmArg>${java-exports}</jvmArg>
                        </jvmArgs>
                        <args>
                            <arg>-deprecation</arg>
                            <arg>-unchecked</arg>
                            <arg>-feature</arg>
                            <arg>-release:${java-short.version}</arg>
                        </args>
                    </configuration>
                </plugin>

                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>exec-maven-plugin</artifactId>
                    <version>3.1.0</version>

                    <configuration>
                        <useMavenLogger>true</useMavenLogger>
                    </configuration>
                </plugin>

            </plugins>
        </pluginManagement>

        <plugins>
            <plugin>
                <groupId>com.github.ekryd.echo-maven-plugin</groupId>
                <artifactId>echo-maven-plugin</artifactId>
                <version>1.3.2</version>
                <executions>
                    <execution>
                        <id>echo-profile</id>
                        <phase>validate</phase>
                        <goals>
                            <goal>echo</goal>
                        </goals>
                        <inherited>true</inherited>
                        <configuration>
                            <message>
                                PROFILE: java.version=${java-short.version} scala.version=${scala.version}
                            </message>
                            <level>INFO</level>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>build-helper-maven-plugin</artifactId>
                <version>${build-helper.maven-plugin.version}</version>
                <executions>
                    <execution>
                        <id>add-antlr-sources</id>
                        <phase>generate-sources</phase>
                        <goals>
                            <goal>add-source</goal>
                        </goals>
                        <configuration>
                            <sources>
                                <source>${project.build.directory}/generated-sources/antlr4/</source>
                            </sources>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>net.alchim31.maven</groupId>
                <artifactId>scala-maven-plugin</artifactId>
                <version>${scala.maven-plugin.version}</version>
                <executions>
                    <execution>
                        <id>compile-scala</id>
                        <goals>
                            <goal>add-source</goal>
                            <goal>compile</goal>
                        </goals>
                        <phase>process-resources</phase>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>${compiler.maven-plugin.version}</version>
                <configuration>
                    <compilerVersion>${java-short.version}</compilerVersion>
                    <release>${java-short.version}</release>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>${surefire.maven-plugin.version}</version>
                <configuration>
                    <skipTests>true</skipTests>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.jacoco</groupId>
                <artifactId>jacoco-maven-plugin</artifactId>
                <executions>
                    <execution>
                        <id>jacoco-initialize</id>
                        <goals>
                            <goal>prepare-agent</goal>
                        </goals>
                    </execution>
                    <execution>
                        <id>jacoco-site</id>
                        <phase>prepare-package</phase>
                        <goals>
                            <goal>report</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-source-plugin</artifactId>
                <version>${sources.maven-plugin.version}</version>
                <executions>
                    <execution>
                        <id>attach-source-jar</id>
                        <phase>prepare-package</phase>
                        <goals>
                            <goal>jar-no-fork</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-deploy-plugin</artifactId>
                <version>${deploy.maven-plugin.version}</version>
                <inherited>false</inherited>
                <configuration>
                    <skip>false</skip>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>flatten-maven-plugin</artifactId>
                <version>${flatten.maven-plugin.version}</version>
                <executions>
                    <execution>
                        <id>flatten-parent</id>
                        <phase>prepare-package</phase>
                        <inherited>false</inherited>
                        <goals>
                            <goal>flatten</goal>
                        </goals>
                        <configuration>
                            <flattenMode>bom</flattenMode>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-release-plugin</artifactId>
                <version>${release.maven-plugin.version}</version>
                <configuration>
                    <autoVersionSubmodules>true</autoVersionSubmodules>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <executions>
                    <execution>
                        <id>analyze-deps</id>
                        <goals>
                            <goal>analyze-only</goal>
                        </goals>
                        <configuration>
                            <ignoredDependencies>
                                <ignoredDependency>org.scalatest</ignoredDependency>
                                <ignoredDependency>org.apache.logging.log4j</ignoredDependency>
                                <ignoredDependency>org.slf4j</ignoredDependency>
                                <ignoredDependency>junit</ignoredDependency>
                            </ignoredDependencies>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

        </plugins>
    </build>

    <reporting>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <reportSets>
                    <reportSet>
                        <reports>
                            <report>analyze-report</report>
                        </reports>
                    </reportSet>
                </reportSets>
            </plugin>

            <plugin>
                <groupId>org.jacoco</groupId>
                <artifactId>jacoco-maven-plugin</artifactId>
                <reportSets>
                    <reportSet>
                        <reports>
                            <!-- select non-aggregate reports -->
                            <report>report</report>
                        </reports>
                    </reportSet>
                </reportSets>
            </plugin>
        </plugins>
    </reporting>

</project>
